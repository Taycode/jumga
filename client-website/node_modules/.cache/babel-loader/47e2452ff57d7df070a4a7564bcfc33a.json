{"ast":null,"code":"export { default as storage, getCookie, setCookie, removeCookie } from '@analytics/storage-utils';\nexport { default as dotProp } from 'dlv';\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction isFunction(x) {\n  return typeof x === 'function';\n}\n\nfunction isString(x) {\n  return typeof x === 'string';\n}\n\nfunction isUndefined(x) {\n  return typeof x === 'undefined';\n}\n\nfunction isBoolean(x) {\n  return typeof x === 'boolean';\n}\n\nfunction isObject(obj) {\n  if (_typeof(obj) !== 'object' || obj === null) return false;\n  var proto = obj;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(obj) === proto;\n}\n\nfunction decode(s) {\n  try {\n    return decodeURIComponent(s.replace(/\\+/g, ' '));\n  } catch (e) {\n    return null;\n  }\n}\n\nvar inBrowser = typeof window !== 'undefined';\n\nfunction getBrowserLocale() {\n  if (!inBrowser) return null;\n  var _navigator = navigator,\n      language = _navigator.language,\n      languages = _navigator.languages,\n      userLanguage = _navigator.userLanguage;\n\n  if (languages && languages.length) {\n    // latest versions of Chrome and Firefox set this correctly\n    return languages[0];\n  } // IE only\n\n\n  if (userLanguage) {\n    return userLanguage;\n  } // latest versions of Chrome, Firefox, and Safari set this correctly\n\n\n  return language;\n}\n\nfunction getTimeZone() {\n  if (typeof Intl === 'undefined' || typeof Intl.DateTimeFormat !== 'function' || typeof Intl.DateTimeFormat().resolvedOptions !== 'function') {\n    return null;\n  }\n\n  return Intl.DateTimeFormat().resolvedOptions().timeZone;\n}\n/* alt approach\ntry {\n  return Intl.DateTimeFormat().resolvedOptions().timeZone\n} catch (error) {\n  // nothing\n}\n*/\n\n\nfunction isExternalReferrer(ref) {\n  if (!inBrowser) return false;\n  var referrer = ref || document.referrer;\n\n  if (referrer) {\n    var port = window.document.location.port;\n    var _ref = referrer.split('/')[2];\n\n    if (port) {\n      _ref = _ref.replace(\":\".concat(port), '');\n    }\n\n    return _ref !== window.location.hostname;\n  }\n\n  return false;\n}\n/**\n * Check if a script is loaded\n * @param  {String|RegExp} script - Script src as string or regex\n * @return {Boolean} is script loaded\n */\n\n\nfunction isScriptLoaded(script) {\n  if (!inBrowser) return true;\n  var scripts = document.getElementsByTagName('script');\n  return !!Object.keys(scripts).filter(function (key) {\n    var src = scripts[key].src;\n\n    if (typeof script === 'string') {\n      return src.indexOf(script) !== -1;\n    } else if (script instanceof RegExp) {\n      return src.match(script);\n    }\n\n    return false;\n  }).length;\n}\n\nfunction noOp() {}\n\nfunction paramsClean(url, param) {\n  var search = (url.split('?') || [,])[1]; // eslint-disable-line\n\n  if (!search || search.indexOf(param) === -1) {\n    return url;\n  } // remove all utm params from URL search\n\n\n  var regex = new RegExp(\"(\\\\&|\\\\?)\".concat(param, \"([_A-Za-z0-9\\\"+=.\\\\/\\\\-@%]+)\"), 'g');\n  var cleanSearch = \"?\".concat(search).replace(regex, '').replace(/^&/, '?'); // replace search params with clean params\n\n  var cleanURL = url.replace(\"?\".concat(search), cleanSearch); // use browser history API to clean the params\n\n  return cleanURL;\n}\n/**\n * Get a given query parameter value\n * @param  {string} param - Key of parameter to find\n * @param  {string} url - url to search\n * @return {string} match\n */\n\n\nfunction getValueParamValue(param, url) {\n  return decode((RegExp(\"\".concat(param, \"=(.+?)(&|$)\")).exec(url) || [, ''])[1]);\n}\n/**\n * Get search string from given url\n * @param  {string} [url] - optional url string. If no url, window.location.search will be used\n * @return {string} url search string\n */\n\n\nfunction getSearchString(url) {\n  if (url) {\n    var p = url.match(/\\?(.*)/);\n    return p && p[1] ? p[1].split('#')[0] : '';\n  }\n\n  return inBrowser && window.location.search.substring(1);\n}\n/**\n * Parse url parameters into javascript object\n * @param  {string} [url] - URI to parse. If no url supplied window.location will be used\n * @return {object} parsed url parameters\n */\n\n\nfunction paramsParse(url) {\n  var searchString = getSearchString(url);\n  return searchString ? getParamsAsObject(searchString) : {};\n}\n/*\n?first=abc&a[]=123&a[]=false&b[]=str&c[]=3.5&a[]=last\nhttps://random.url.com?Target=Report&Method=getStats&fields%5B%5D=Offer.name&fields%5B%5D=Advertiser.company&fields%5B%5D=Stat.clicks&fields%5B%5D=Stat.conversions&fields%5B%5D=Stat.cpa&fields%5B%5D=Stat.payout&fields%5B%5D=Stat.date&fields%5B%5D=Stat.offer_id&fields%5B%5D=Affiliate.company&groups%5B%5D=Stat.offer_id&groups%5B%5D=Stat.date&filters%5BStat.affiliate_id%5D%5Bconditional%5D=EQUAL_TO&filters%5BStat.affiliate_id%5D%5Bvalues%5D=1831&limit=9999\nhttps://random.url.com?Target=Offer&Method=findAll&filters%5Bhas_goals_enabled%5D%5BTRUE%5D=1&filters%5Bstatus%5D=active&fields%5B%5D=id&fields%5B%5D=name&fields%5B%5D=default_goal_name\nhttp://localhost:3000/?Target=Offer&Method=findAll&filters[has_goals_enabled][TRUE]=1&filters[status]=active&filters[wow]arr[]=yaz&filters[wow]arr[]=naz&fields[]=id&fields[]=name&fields[]=default_goal_name */\n\n\nfunction getParamsAsObject(query) {\n  var re = /([^&=]+)=?([^&]*)/g;\n  var params = {};\n  var e;\n\n  while (e = re.exec(query)) {\n    // eslint-disable-line\n    var k = decode(e[1]);\n    var v = decode(e[2]);\n\n    if (k.substring(k.length - 2) === '[]') {\n      k = k.substring(0, k.length - 2);\n      (params[k] || (params[k] = [])).push(v);\n    } else {\n      var val = v === '' ? true : v;\n      params[k] = val;\n    }\n  }\n\n  for (var prop in params) {\n    var structure = prop.split('[');\n\n    if (structure.length > 1) {\n      var levels = [];\n      structure.forEach(function (item, i) {\n        // eslint-disable-line\n        var key = item.replace(/[?[\\]\\\\ ]/g, '');\n        levels.push(key);\n      });\n      assign(params, levels, params[prop]);\n      delete params[prop];\n    }\n  }\n\n  return params;\n}\n\nfunction assign(obj, keyPath, value) {\n  var lastKeyIndex = keyPath.length - 1;\n\n  for (var i = 0; i < lastKeyIndex; ++i) {\n    var key = keyPath[i];\n\n    if (!(key in obj)) {\n      obj[key] = {};\n    }\n\n    obj = obj[key];\n  }\n\n  obj[keyPath[lastKeyIndex]] = value;\n}\n/**\n * Removes params from url in browser\n * @param  {string}   param       - param key to remove from current URL\n * @param  {function} [callback]  - callback function to run. Only runs in browser\n * @return {promise}\n */\n\n\nfunction paramsRemove(param, callback) {\n  if (!inBrowser) return Promise.resolve();\n  return new Promise(function (resolve, reject) {\n    if (window.history && window.history.replaceState) {\n      var url = window.location.href;\n      var cleanUrl = paramsClean(url, param);\n\n      if (url !== cleanUrl) {\n        /* replace URL with history API */\n        // eslint-disable-next-line no-restricted-globals\n        history.replaceState({}, '', cleanUrl);\n      }\n    }\n\n    if (callback) callback();\n    return resolve();\n  });\n}\n/**\n * Get host domain of url\n * @param  {String} url - href of page\n * @return {String} hostname of page\n *\n * @example\n *  getDomainHost('https://subdomain.my-site.com/')\n *  > subdomain.my-site.com\n */\n\n\nfunction getDomainHost(url) {\n  if (!inBrowser) return null;\n  var a = document.createElement('a');\n  a.setAttribute('href', url);\n  return a.hostname;\n}\n/**\n * Get host domain of url\n * @param  {String} url - href of page\n * @return {String} base hostname of page\n *\n * @example\n *  getDomainBase('https://subdomain.my-site.com/')\n *  > my-site.com\n */\n\n\nfunction getDomainBase(url) {\n  var host = getDomainHost(url) || '';\n  return host.split('.').slice(-2).join('.');\n}\n/**\n * Remove TLD from domain string\n * @param  {String} baseDomain - host name of site\n * @return {String}\n * @example\n *  trimTld('google.com')\n *  > google\n */\n\n\nfunction trimTld(baseDomain) {\n  var arr = baseDomain.split('.');\n  return arr.length > 1 ? arr.slice(0, -1).join('.') : baseDomain;\n}\n\nvar url = {\n  trimTld: trimTld,\n  getDomainBase: getDomainBase,\n  getDomainHost: getDomainHost\n};\nvar googleKey = 'google';\n/**\n * Checks a given url and parses referrer data\n * @param  {String} [referrer] - (optional) referring URL\n * @param  {String} [currentUrl] - (optional) the current url\n * @return {Object}     [description]\n */\n\nfunction parseReferrer(referrer, currentUrl) {\n  if (!inBrowser) return false; // default referral data\n\n  var refData = {\n    'source': '(direct)',\n    'medium': '(none)',\n    'campaign': '(not set)' // Add raw ref url if external\n\n  };\n\n  if (referrer && isExternalReferrer(referrer)) {\n    refData.referrer = referrer;\n  }\n\n  var domainInfo = parseDomain(referrer); // Read referrer URI and infer source\n\n  if (domainInfo && Object.keys(domainInfo).length) {\n    refData = Object.assign({}, refData, domainInfo);\n  } // Read URI params and use set utm params\n\n\n  var params = paramsParse(currentUrl);\n  var paramKeys = Object.keys(params);\n\n  if (paramKeys.length) {\n    // set campaign params off matches\n    var gaParams = paramKeys.reduce(function (acc, key) {\n      // match utm params & dclid (display) & gclid (cpc)\n      if (key.match(/^utm_/)) {\n        acc[\"\".concat(key.replace(/^utm_/, ''))] = params[key];\n      } // https://developers.google.com/analytics/devguides/collection/protocol/v1/parameters\n      // dclid - cpc Cost-Per-Thousand Impressions\n      // gclid - cpc Cost per Click\n\n\n      if (key.match(/^(d|g)clid/)) {\n        acc['source'] = googleKey;\n        acc['medium'] = params.gclid ? 'cpc' : 'cpm';\n        acc[key] = params[key];\n      }\n\n      return acc;\n    }, {});\n    refData = Object.assign({}, refData, gaParams);\n\n    if (params.dclid || params.gclid) {\n      refData['source'] = googleKey;\n      refData['medium'] = params.gclid ? 'cpc' : 'cpm';\n    }\n  }\n\n  return refData;\n}\n/**\n * Client side domain parser for determining marketing data.\n * @param  {String} referrer - ref url\n * @return {Object}\n */\n\n\nfunction parseDomain(referrer) {\n  if (!referrer || !inBrowser) return false;\n  var referringDomain = getDomainBase(referrer);\n  var a = document.createElement('a');\n  a.href = referrer; // Shim for the billion google search engines\n\n  if (a.hostname.indexOf(googleKey) > -1) {\n    referringDomain = googleKey;\n  } // If is search engine\n\n\n  if (searchEngines[referringDomain]) {\n    var searchEngine = searchEngines[referringDomain];\n    var queryParam = typeof searchEngine === 'string' ? searchEngine : searchEngine.p;\n    var termRegex = new RegExp(queryParam + '=.*?([^&#]*|$)', 'gi');\n    var term = a.search.match(termRegex);\n    return {\n      source: searchEngine.n || trimTld(referringDomain),\n      medium: 'organic',\n      term: (term ? term[0].split('=')[1] : '') || '(not provided)'\n    };\n  } // Default\n\n\n  var medium = !isExternalReferrer(referrer) ? 'internal' : 'referral';\n  return {\n    source: a.hostname,\n    medium: medium\n  };\n}\n/**\n * Search engine query string data\n * @type {Object}\n */\n\n\nvar Q = 'q';\nvar QUERY = 'query';\nvar searchEngines = {\n  'daum.net': Q,\n  'eniro.se': 'search_word',\n  'naver.com': QUERY,\n  'yahoo.com': 'p',\n  'msn.com': Q,\n  'aol.com': Q,\n  'lycos.com': Q,\n  'ask.com': Q,\n  'cnn.com': QUERY,\n  'about.com': 'terms',\n  'baidu.com': 'wd',\n  'yandex.com': 'text',\n  'seznam.cz': Q,\n  'search.com': Q,\n  'yam.com': 'k',\n  'kvasir.no': Q,\n  'terra.com': QUERY,\n  'mynet.com': Q,\n  'rambler.ru': 'words',\n  'google': Q,\n  'bing.com': {\n    'p': Q,\n    'n': 'live'\n  }\n};\n\nfunction uuid() {\n  var lut = [];\n\n  for (var i = 0; i < 256; i++) {\n    lut[i] = (i < 16 ? '0' : '') + i.toString(16);\n  }\n\n  return function () {\n    var d0 = genNumber();\n    var d1 = genNumber();\n    var d2 = genNumber();\n    var d3 = genNumber();\n    /* eslint-disable */\n\n    return \"\".concat(lut[d0 & 0xff] + lut[d0 >> 8 & 0xff] + lut[d0 >> 16 & 0xff] + lut[d0 >> 24 & 0xff], \"-\").concat(lut[d1 & 0xff]).concat(lut[d1 >> 8 & 0xff], \"-\").concat(lut[d1 >> 16 & 0x0f | 0x40]).concat(lut[d1 >> 24 & 0xff], \"-\").concat(lut[d2 & 0x3f | 0x80]).concat(lut[d2 >> 8 & 0xff], \"-\").concat(lut[d2 >> 16 & 0xff]).concat(lut[d2 >> 24 & 0xff]).concat(lut[d3 & 0xff]).concat(lut[d3 >> 8 & 0xff]).concat(lut[d3 >> 16 & 0xff]).concat(lut[d3 >> 24 & 0xff]);\n    /* eslint-enable */\n  }();\n}\n\nfunction genNumber() {\n  return Math.random() * 0xffffffff | 0;\n} // const context = (typeof self === 'object' && self.self === self && self) || // eslint-disable-line\n\n/* global self globalThis */\n\n\nvar getGlobal = function getGlobal() {\n  /* eslint-disable */\n  if (typeof self !== 'undefined' && self) {\n    return self;\n  }\n  /* eslint-enable */\n\n\n  if (inBrowser && window) {\n    return window;\n  }\n\n  if (inBrowser && global) {\n    return global;\n  }\n\n  if (typeof globalThis !== 'undefined' && globalThis) {\n    return globalThis;\n  }\n};\n\nvar globalContext = getGlobal();\nexport { isFunction, isString, isObject, isUndefined, isBoolean, decode as decodeUri, getBrowserLocale, getTimeZone, inBrowser, isExternalReferrer, isScriptLoaded, noOp, paramsClean, getValueParamValue as paramsGet, paramsParse, paramsRemove, parseReferrer, url, uuid, globalContext };","map":{"version":3,"sources":["/usr/src/app/node_modules/analytics-utils/lib/analytics-utils.browser.es.js"],"names":["default","storage","getCookie","setCookie","removeCookie","dotProp","_typeof","obj","Symbol","iterator","constructor","prototype","isFunction","x","isString","isUndefined","isBoolean","isObject","proto","Object","getPrototypeOf","decode","s","decodeURIComponent","replace","e","inBrowser","window","getBrowserLocale","_navigator","navigator","language","languages","userLanguage","length","getTimeZone","Intl","DateTimeFormat","resolvedOptions","timeZone","isExternalReferrer","ref","referrer","document","port","location","_ref","split","concat","hostname","isScriptLoaded","script","scripts","getElementsByTagName","keys","filter","key","src","indexOf","RegExp","match","noOp","paramsClean","url","param","search","regex","cleanSearch","cleanURL","getValueParamValue","exec","getSearchString","p","substring","paramsParse","searchString","getParamsAsObject","query","re","params","k","v","push","val","prop","structure","levels","forEach","item","i","assign","keyPath","value","lastKeyIndex","paramsRemove","callback","Promise","resolve","reject","history","replaceState","href","cleanUrl","getDomainHost","a","createElement","setAttribute","getDomainBase","host","slice","join","trimTld","baseDomain","arr","googleKey","parseReferrer","currentUrl","refData","domainInfo","parseDomain","paramKeys","gaParams","reduce","acc","gclid","dclid","referringDomain","searchEngines","searchEngine","queryParam","termRegex","term","source","n","medium","Q","QUERY","uuid","lut","toString","d0","genNumber","d1","d2","d3","Math","random","getGlobal","self","global","globalThis","globalContext","decodeUri","paramsGet"],"mappings":"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","sourcesContent":["export { default as storage, getCookie, setCookie, removeCookie } from '@analytics/storage-utils';\nexport { default as dotProp } from 'dlv';\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction isFunction(x) {\n  return typeof x === 'function';\n}\nfunction isString(x) {\n  return typeof x === 'string';\n}\nfunction isUndefined(x) {\n  return typeof x === 'undefined';\n}\nfunction isBoolean(x) {\n  return typeof x === 'boolean';\n}\nfunction isObject(obj) {\n  if (_typeof(obj) !== 'object' || obj === null) return false;\n  var proto = obj;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(obj) === proto;\n}\n\nfunction decode(s) {\n  try {\n    return decodeURIComponent(s.replace(/\\+/g, ' '));\n  } catch (e) {\n    return null;\n  }\n}\n\nvar inBrowser = typeof window !== 'undefined';\n\nfunction getBrowserLocale() {\n  if (!inBrowser) return null;\n  var _navigator = navigator,\n      language = _navigator.language,\n      languages = _navigator.languages,\n      userLanguage = _navigator.userLanguage;\n\n  if (languages && languages.length) {\n    // latest versions of Chrome and Firefox set this correctly\n    return languages[0];\n  } // IE only\n\n\n  if (userLanguage) {\n    return userLanguage;\n  } // latest versions of Chrome, Firefox, and Safari set this correctly\n\n\n  return language;\n}\n\nfunction getTimeZone() {\n  if (typeof Intl === 'undefined' || typeof Intl.DateTimeFormat !== 'function' || typeof Intl.DateTimeFormat().resolvedOptions !== 'function') {\n    return null;\n  }\n\n  return Intl.DateTimeFormat().resolvedOptions().timeZone;\n}\n/* alt approach\ntry {\n  return Intl.DateTimeFormat().resolvedOptions().timeZone\n} catch (error) {\n  // nothing\n}\n*/\n\nfunction isExternalReferrer(ref) {\n  if (!inBrowser) return false;\n  var referrer = ref || document.referrer;\n\n  if (referrer) {\n    var port = window.document.location.port;\n    var _ref = referrer.split('/')[2];\n\n    if (port) {\n      _ref = _ref.replace(\":\".concat(port), '');\n    }\n\n    return _ref !== window.location.hostname;\n  }\n\n  return false;\n}\n\n/**\n * Check if a script is loaded\n * @param  {String|RegExp} script - Script src as string or regex\n * @return {Boolean} is script loaded\n */\n\nfunction isScriptLoaded(script) {\n  if (!inBrowser) return true;\n  var scripts = document.getElementsByTagName('script');\n  return !!Object.keys(scripts).filter(function (key) {\n    var src = scripts[key].src;\n\n    if (typeof script === 'string') {\n      return src.indexOf(script) !== -1;\n    } else if (script instanceof RegExp) {\n      return src.match(script);\n    }\n\n    return false;\n  }).length;\n}\n\nfunction noOp() {}\n\nfunction paramsClean(url, param) {\n  var search = (url.split('?') || [,])[1]; // eslint-disable-line\n\n  if (!search || search.indexOf(param) === -1) {\n    return url;\n  } // remove all utm params from URL search\n\n\n  var regex = new RegExp(\"(\\\\&|\\\\?)\".concat(param, \"([_A-Za-z0-9\\\"+=.\\\\/\\\\-@%]+)\"), 'g');\n  var cleanSearch = \"?\".concat(search).replace(regex, '').replace(/^&/, '?'); // replace search params with clean params\n\n  var cleanURL = url.replace(\"?\".concat(search), cleanSearch); // use browser history API to clean the params\n\n  return cleanURL;\n}\n\n/**\n * Get a given query parameter value\n * @param  {string} param - Key of parameter to find\n * @param  {string} url - url to search\n * @return {string} match\n */\n\nfunction getValueParamValue(param, url) {\n  return decode((RegExp(\"\".concat(param, \"=(.+?)(&|$)\")).exec(url) || [, ''])[1]);\n}\n\n/**\n * Get search string from given url\n * @param  {string} [url] - optional url string. If no url, window.location.search will be used\n * @return {string} url search string\n */\n\nfunction getSearchString(url) {\n  if (url) {\n    var p = url.match(/\\?(.*)/);\n    return p && p[1] ? p[1].split('#')[0] : '';\n  }\n\n  return inBrowser && window.location.search.substring(1);\n}\n/**\n * Parse url parameters into javascript object\n * @param  {string} [url] - URI to parse. If no url supplied window.location will be used\n * @return {object} parsed url parameters\n */\n\n\nfunction paramsParse(url) {\n  var searchString = getSearchString(url);\n  return searchString ? getParamsAsObject(searchString) : {};\n}\n/*\n?first=abc&a[]=123&a[]=false&b[]=str&c[]=3.5&a[]=last\nhttps://random.url.com?Target=Report&Method=getStats&fields%5B%5D=Offer.name&fields%5B%5D=Advertiser.company&fields%5B%5D=Stat.clicks&fields%5B%5D=Stat.conversions&fields%5B%5D=Stat.cpa&fields%5B%5D=Stat.payout&fields%5B%5D=Stat.date&fields%5B%5D=Stat.offer_id&fields%5B%5D=Affiliate.company&groups%5B%5D=Stat.offer_id&groups%5B%5D=Stat.date&filters%5BStat.affiliate_id%5D%5Bconditional%5D=EQUAL_TO&filters%5BStat.affiliate_id%5D%5Bvalues%5D=1831&limit=9999\nhttps://random.url.com?Target=Offer&Method=findAll&filters%5Bhas_goals_enabled%5D%5BTRUE%5D=1&filters%5Bstatus%5D=active&fields%5B%5D=id&fields%5B%5D=name&fields%5B%5D=default_goal_name\nhttp://localhost:3000/?Target=Offer&Method=findAll&filters[has_goals_enabled][TRUE]=1&filters[status]=active&filters[wow]arr[]=yaz&filters[wow]arr[]=naz&fields[]=id&fields[]=name&fields[]=default_goal_name */\n\nfunction getParamsAsObject(query) {\n  var re = /([^&=]+)=?([^&]*)/g;\n  var params = {};\n  var e;\n\n  while (e = re.exec(query)) {\n    // eslint-disable-line\n    var k = decode(e[1]);\n    var v = decode(e[2]);\n\n    if (k.substring(k.length - 2) === '[]') {\n      k = k.substring(0, k.length - 2);\n      (params[k] || (params[k] = [])).push(v);\n    } else {\n      var val = v === '' ? true : v;\n      params[k] = val;\n    }\n  }\n\n  for (var prop in params) {\n    var structure = prop.split('[');\n\n    if (structure.length > 1) {\n      var levels = [];\n      structure.forEach(function (item, i) {\n        // eslint-disable-line\n        var key = item.replace(/[?[\\]\\\\ ]/g, '');\n        levels.push(key);\n      });\n      assign(params, levels, params[prop]);\n      delete params[prop];\n    }\n  }\n\n  return params;\n}\n\nfunction assign(obj, keyPath, value) {\n  var lastKeyIndex = keyPath.length - 1;\n\n  for (var i = 0; i < lastKeyIndex; ++i) {\n    var key = keyPath[i];\n\n    if (!(key in obj)) {\n      obj[key] = {};\n    }\n\n    obj = obj[key];\n  }\n\n  obj[keyPath[lastKeyIndex]] = value;\n}\n\n/**\n * Removes params from url in browser\n * @param  {string}   param       - param key to remove from current URL\n * @param  {function} [callback]  - callback function to run. Only runs in browser\n * @return {promise}\n */\n\nfunction paramsRemove(param, callback) {\n  if (!inBrowser) return Promise.resolve();\n  return new Promise(function (resolve, reject) {\n    if (window.history && window.history.replaceState) {\n      var url = window.location.href;\n      var cleanUrl = paramsClean(url, param);\n\n      if (url !== cleanUrl) {\n        /* replace URL with history API */\n        // eslint-disable-next-line no-restricted-globals\n        history.replaceState({}, '', cleanUrl);\n      }\n    }\n\n    if (callback) callback();\n    return resolve();\n  });\n}\n\n/**\n * Get host domain of url\n * @param  {String} url - href of page\n * @return {String} hostname of page\n *\n * @example\n *  getDomainHost('https://subdomain.my-site.com/')\n *  > subdomain.my-site.com\n */\n\nfunction getDomainHost(url) {\n  if (!inBrowser) return null;\n  var a = document.createElement('a');\n  a.setAttribute('href', url);\n  return a.hostname;\n}\n/**\n * Get host domain of url\n * @param  {String} url - href of page\n * @return {String} base hostname of page\n *\n * @example\n *  getDomainBase('https://subdomain.my-site.com/')\n *  > my-site.com\n */\n\nfunction getDomainBase(url) {\n  var host = getDomainHost(url) || '';\n  return host.split('.').slice(-2).join('.');\n}\n/**\n * Remove TLD from domain string\n * @param  {String} baseDomain - host name of site\n * @return {String}\n * @example\n *  trimTld('google.com')\n *  > google\n */\n\nfunction trimTld(baseDomain) {\n  var arr = baseDomain.split('.');\n  return arr.length > 1 ? arr.slice(0, -1).join('.') : baseDomain;\n}\nvar url = {\n  trimTld: trimTld,\n  getDomainBase: getDomainBase,\n  getDomainHost: getDomainHost\n};\n\nvar googleKey = 'google';\n/**\n * Checks a given url and parses referrer data\n * @param  {String} [referrer] - (optional) referring URL\n * @param  {String} [currentUrl] - (optional) the current url\n * @return {Object}     [description]\n */\n\nfunction parseReferrer(referrer, currentUrl) {\n  if (!inBrowser) return false; // default referral data\n\n  var refData = {\n    'source': '(direct)',\n    'medium': '(none)',\n    'campaign': '(not set)' // Add raw ref url if external\n\n  };\n\n  if (referrer && isExternalReferrer(referrer)) {\n    refData.referrer = referrer;\n  }\n\n  var domainInfo = parseDomain(referrer); // Read referrer URI and infer source\n\n  if (domainInfo && Object.keys(domainInfo).length) {\n    refData = Object.assign({}, refData, domainInfo);\n  } // Read URI params and use set utm params\n\n\n  var params = paramsParse(currentUrl);\n  var paramKeys = Object.keys(params);\n\n  if (paramKeys.length) {\n    // set campaign params off matches\n    var gaParams = paramKeys.reduce(function (acc, key) {\n      // match utm params & dclid (display) & gclid (cpc)\n      if (key.match(/^utm_/)) {\n        acc[\"\".concat(key.replace(/^utm_/, ''))] = params[key];\n      } // https://developers.google.com/analytics/devguides/collection/protocol/v1/parameters\n      // dclid - cpc Cost-Per-Thousand Impressions\n      // gclid - cpc Cost per Click\n\n\n      if (key.match(/^(d|g)clid/)) {\n        acc['source'] = googleKey;\n        acc['medium'] = params.gclid ? 'cpc' : 'cpm';\n        acc[key] = params[key];\n      }\n\n      return acc;\n    }, {});\n    refData = Object.assign({}, refData, gaParams);\n\n    if (params.dclid || params.gclid) {\n      refData['source'] = googleKey;\n      refData['medium'] = params.gclid ? 'cpc' : 'cpm';\n    }\n  }\n\n  return refData;\n}\n/**\n * Client side domain parser for determining marketing data.\n * @param  {String} referrer - ref url\n * @return {Object}\n */\n\nfunction parseDomain(referrer) {\n  if (!referrer || !inBrowser) return false;\n  var referringDomain = getDomainBase(referrer);\n  var a = document.createElement('a');\n  a.href = referrer; // Shim for the billion google search engines\n\n  if (a.hostname.indexOf(googleKey) > -1) {\n    referringDomain = googleKey;\n  } // If is search engine\n\n\n  if (searchEngines[referringDomain]) {\n    var searchEngine = searchEngines[referringDomain];\n    var queryParam = typeof searchEngine === 'string' ? searchEngine : searchEngine.p;\n    var termRegex = new RegExp(queryParam + '=.*?([^&#]*|$)', 'gi');\n    var term = a.search.match(termRegex);\n    return {\n      source: searchEngine.n || trimTld(referringDomain),\n      medium: 'organic',\n      term: (term ? term[0].split('=')[1] : '') || '(not provided)'\n    };\n  } // Default\n\n\n  var medium = !isExternalReferrer(referrer) ? 'internal' : 'referral';\n  return {\n    source: a.hostname,\n    medium: medium\n  };\n}\n/**\n * Search engine query string data\n * @type {Object}\n */\n\n\nvar Q = 'q';\nvar QUERY = 'query';\nvar searchEngines = {\n  'daum.net': Q,\n  'eniro.se': 'search_word',\n  'naver.com': QUERY,\n  'yahoo.com': 'p',\n  'msn.com': Q,\n  'aol.com': Q,\n  'lycos.com': Q,\n  'ask.com': Q,\n  'cnn.com': QUERY,\n  'about.com': 'terms',\n  'baidu.com': 'wd',\n  'yandex.com': 'text',\n  'seznam.cz': Q,\n  'search.com': Q,\n  'yam.com': 'k',\n  'kvasir.no': Q,\n  'terra.com': QUERY,\n  'mynet.com': Q,\n  'rambler.ru': 'words',\n  'google': Q,\n  'bing.com': {\n    'p': Q,\n    'n': 'live'\n  }\n};\n\nfunction uuid() {\n  var lut = [];\n\n  for (var i = 0; i < 256; i++) {\n    lut[i] = (i < 16 ? '0' : '') + i.toString(16);\n  }\n\n  return function () {\n    var d0 = genNumber();\n    var d1 = genNumber();\n    var d2 = genNumber();\n    var d3 = genNumber();\n    /* eslint-disable */\n\n    return \"\".concat(lut[d0 & 0xff] + lut[d0 >> 8 & 0xff] + lut[d0 >> 16 & 0xff] + lut[d0 >> 24 & 0xff], \"-\").concat(lut[d1 & 0xff]).concat(lut[d1 >> 8 & 0xff], \"-\").concat(lut[d1 >> 16 & 0x0f | 0x40]).concat(lut[d1 >> 24 & 0xff], \"-\").concat(lut[d2 & 0x3f | 0x80]).concat(lut[d2 >> 8 & 0xff], \"-\").concat(lut[d2 >> 16 & 0xff]).concat(lut[d2 >> 24 & 0xff]).concat(lut[d3 & 0xff]).concat(lut[d3 >> 8 & 0xff]).concat(lut[d3 >> 16 & 0xff]).concat(lut[d3 >> 24 & 0xff]);\n    /* eslint-enable */\n  }();\n}\n\nfunction genNumber() {\n  return Math.random() * 0xffffffff | 0;\n}\n\n// const context = (typeof self === 'object' && self.self === self && self) || // eslint-disable-line\n/* global self globalThis */\n\nvar getGlobal = function getGlobal() {\n  /* eslint-disable */\n  if (typeof self !== 'undefined' && self) {\n    return self;\n  }\n  /* eslint-enable */\n\n\n  if (inBrowser && window) {\n    return window;\n  }\n\n  if (inBrowser && global) {\n    return global;\n  }\n\n  if (typeof globalThis !== 'undefined' && globalThis) {\n    return globalThis;\n  }\n};\n\nvar globalContext = getGlobal();\n\nexport { isFunction, isString, isObject, isUndefined, isBoolean, decode as decodeUri, getBrowserLocale, getTimeZone, inBrowser, isExternalReferrer, isScriptLoaded, noOp, paramsClean, getValueParamValue as paramsGet, paramsParse, paramsRemove, parseReferrer, url, uuid, globalContext };\n"]},"metadata":{},"sourceType":"module"}