import e from"react";function t(){return(t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var r;!function(e){e.Idle="idle",e.Loading="loading",e.Error="error",e.Success="success"}(r||(r={}));var n=function(){},i=0,u="undefined"==typeof window;function o(){}var c=console||{error:o,warn:o,log:o};function s(e){c=e}function a(e,t){return"function"==typeof e?e(t):e}function h(e,t){if("function"==typeof t)throw new Error("Cannot stringify non JSON value");return v(t)?Object.keys(t).sort().reduce((function(e,r){return e[r]=t[r],e}),{}):t}function f(){return"undefined"==typeof document||[void 0,"visible","prerender"].includes(document.visibilityState)}function l(){return void 0===navigator.onLine||navigator.onLine}function d(e){var r,n,i,u;return v(e[0])?(r=e[0].queryKey,n=e[0].queryFn,i=e[0].config,u=e[1]):v(e[1])?(r=e[0],i=e[1],u=e[2]):(r=e[0],n=e[1],i=e[2],u=e[3]),i=i?t({queryKey:r},i):{queryKey:r},n&&(i=t({},i,{queryFn:n})),[r,i,u]}function v(e){return e&&"object"==typeof e&&!Array.isArray(e)}function y(e){if(!g(e))return!1;var t=e.constructor;if(void 0===t)return!0;var r=t.prototype;return!!g(r)&&!!r.hasOwnProperty("isPrototypeOf")}function g(e){return"[object Object]"===Object.prototype.toString.call(e)}function b(e){return e instanceof Error}function p(e){return e instanceof n}function m(e){return{status:e,isLoading:e===r.Loading,isSuccess:e===r.Success,isError:e===r.Error,isIdle:e===r.Idle}}function F(e){var t;return function(r){t&&t(),t=r(e)}}var S={queries:{queryKeySerializerFn:function(e){try{var t=Array.isArray(e)?e:[e],r=(n=t,JSON.stringify(n,h));return[r,t=JSON.parse(r)]}catch(e){throw new Error("A valid query key is required!")}var n},enabled:!0,retry:3,retryDelay:function(e){return Math.min(1e3*Math.pow(2,e),3e4)},staleTime:0,cacheTime:3e5,refetchOnWindowFocus:!0,refetchOnReconnect:!0,refetchOnMount:!0,structuralSharing:!0}};function w(e,r,n,i){return t({},S.shared,S.queries,null==e?void 0:e.shared,null==e?void 0:e.queries,null==r?void 0:r.shared,null==r?void 0:r.queries,n,i)}var q,C=function(){function e(e){this.config=e,this.clear=this.clear.bind(this),this.refetch=this.refetch.bind(this),this.fetchMore=this.fetchMore.bind(this),this.updateQuery()}var r=e.prototype;return r.subscribe=function(e){return this.started=!0,this.updateListener=e,this.currentQuery.subscribeObserver(this),this.optionalFetch(),this.updateRefetchInterval(),this.unsubscribe.bind(this)},r.unsubscribe=function(){this.started=!1,this.updateListener=void 0,this.clearRefetchInterval(),this.currentQuery.unsubscribeObserver(this)},r.updateConfig=function(e){var t=this.config;this.config=e;var r=this.updateQuery();if(this.started){if(r)return this.optionalFetch(),void this.updateRefetchInterval();e.enabled&&!t.enabled&&this.optionalFetch(),e.enabled===t.enabled&&e.refetchInterval===t.refetchInterval&&e.refetchIntervalInBackground===t.refetchIntervalInBackground||this.updateRefetchInterval()}},r.getCurrentResult=function(){return this.currentResult},r.clear=function(){return this.currentQuery.clear()},r.refetch=function(e){try{return this.currentQuery.updateConfig(this.config),this.currentQuery.refetch(e)}catch(e){return Promise.reject(e)}},r.fetchMore=function(e,t){try{return this.currentQuery.updateConfig(this.config),this.currentQuery.fetchMore(e,t)}catch(e){return Promise.reject(e)}},r.fetch=function(){try{var e=this;return e.currentQuery.updateConfig(e.config),function(e,t){try{var r=e()}catch(e){return t(e)}return r&&r.then?r.then(void 0,t):r}((function(){return t=e.currentQuery.fetch(),n?r?r(t):t:(t&&t.then||(t=Promise.resolve(t)),r?t.then(r):t);var t,r,n}),(function(){}))}catch(e){return Promise.reject(e)}},r.optionalFetch=function(){!this.config.enabled||this.config.suspense&&this.currentResult.isFetched||!this.currentResult.isStale||!this.config.refetchOnMount&&1!==this.currentQuery.observers.length||this.fetch()},r.updateRefetchInterval=function(){var e=this;u||(this.clearRefetchInterval(),!this.config.enabled||!this.config.refetchInterval||this.config.refetchInterval<0||this.config.refetchInterval===1/0||(this.refetchIntervalId=setInterval((function(){(e.config.refetchIntervalInBackground||f())&&e.fetch()}),this.config.refetchInterval)))},r.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},r.createResult=function(){var e=this.currentQuery,r=this.previousResult,n=this.config,i=e.state,u=i.canFetchMore,o=i.error,c=i.failureCount,s=i.isFetched,a=i.isFetching,h=i.isFetchingMore,f=i.isLoading,l=i.isStale,d=e.state,v=d.data,y=d.status,g=d.updatedAt;return n.keepPreviousData&&f&&(null==r?void 0:r.isSuccess)&&(v=r.data,g=r.updatedAt,y=r.status),t({},m(y),{canFetchMore:u,clear:this.clear,data:v,error:o,failureCount:c,fetchMore:this.fetchMore,isFetched:s,isFetching:a,isFetchingMore:h,isStale:l,query:e,refetch:this.refetch,updatedAt:g})},r.updateQuery=function(){var e=this.currentQuery,r=e?t({},this.config,{initialData:void 0}):this.config,n=r.queryCache.buildQuery(r.queryKey,r);return n!==e&&(n.activateTimeouts(),this.previousResult=this.currentResult,this.currentQuery=n,this.currentResult=this.createResult(),this.started&&(null==e||e.unsubscribeObserver(this),this.currentQuery.subscribeObserver(this)),!0)},r.onQueryUpdate=function(e,t){var r;this.currentResult=this.createResult();var n,i,u,o,c=this.currentResult,s=c.data,a=c.error,h=c.isSuccess,f=c.isError;if("Success"===t.type&&h)null==(n=(i=this.config).onSuccess)||n.call(i,s),null==(u=(o=this.config).onSettled)||u.call(o,s,null),this.updateRefetchInterval();else if("Error"===t.type&&f){var l,d,v,y;null==(l=(d=this.config).onError)||l.call(d,a),null==(v=(y=this.config).onSettled)||v.call(y,void 0,a),this.updateRefetchInterval()}null==(r=this.updateListener)||r.call(this,this.currentResult)},e}();function E(e,t,r){return r?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function T(e,t){try{var r=e()}catch(e){return t(e)}return r&&r.then?r.then(void 0,t):r}function O(){}function R(e,t){var r=e();return r&&r.then?r.then(t):t(r)}function I(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];try{return Promise.resolve(e.apply(this,t))}catch(e){return Promise.reject(e)}}}!function(e){e.Failed="Failed",e.MarkStale="MarkStale",e.Fetch="Fetch",e.Success="Success",e.Error="Error"}(q||(q={}));var M=function(){function e(e){var n,i,u,o,c,s;this.config=e.config,this.queryCache=e.queryCache,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.notifyGlobalListeners=e.notifyGlobalListeners,this.observers=[],this.state=(n=e.config,u="function"==typeof n.initialData?n.initialData():n.initialData,o=void 0!==u,c=!n.enabled||("function"==typeof n.initialStale?n.initialStale():null!=(i=n.initialStale)?i:!o),t({},m(s=o?r.Success:n.enabled?r.Loading:r.Idle),{error:null,isFetched:!1,isFetching:s===r.Loading,isFetchingMore:!1,failureCount:0,isStale:c,data:u,updatedAt:o?Date.now():0,canFetchMore:L(n,u)})),this.enableTimeouts=!1}var i=e.prototype;return i.activateTimeouts=function(){this.enableTimeouts=!0,this.rescheduleStaleTimeout(),this.rescheduleGarbageCollection()},i.updateConfig=function(e){this.config=e},i.dispatch=function(e){var n=this;this.state=function(e,n){switch(n.type){case q.Failed:return t({},e,{failureCount:e.failureCount+1});case q.MarkStale:return t({},e,{isStale:!0});case q.Fetch:var i=void 0!==e.data?r.Success:r.Loading;return t({},e,m(i),{isFetching:!0,isFetchingMore:n.isFetchingMore||!1,failureCount:0});case q.Success:return t({},e,m(r.Success),{data:n.data,error:null,isStale:n.isStale,isFetched:!0,isFetching:!1,isFetchingMore:!1,canFetchMore:n.canFetchMore,updatedAt:Date.now(),failureCount:0});case q.Error:return t({},e,m(r.Error),{error:n.error,isFetched:!0,isFetching:!1,isFetchingMore:!1,isStale:!0,failureCount:e.failureCount+1,throwInErrorBoundary:!0});default:return e}}(this.state,e),this.observers.forEach((function(t){return t.onQueryUpdate(n.state,e)})),this.notifyGlobalListeners(this)},i.rescheduleStaleTimeout=function(){var e=this;if(!u&&(this.clearStaleTimeout(),this.enableTimeouts&&!this.state.isStale&&this.state.status===r.Success&&this.config.staleTime!==1/0)){var t=this.config.staleTime||0,n=t;if(this.state.updatedAt){var i=t-(Date.now()-this.state.updatedAt);n=Math.max(i,0)}this.staleTimeout=setTimeout((function(){e.invalidate()}),n)}},i.invalidate=function(){this.clearStaleTimeout(),this.state.isStale||this.dispatch({type:q.MarkStale})},i.rescheduleGarbageCollection=function(){var e=this;u||(this.clearCacheTimeout(),!this.enableTimeouts||this.config.cacheTime===1/0||this.observers.length>0||(this.cacheTimeout=setTimeout((function(){e.clear()}),this.config.cacheTime)))},i.refetch=function(e){try{var t=this;return T((function(){return E(t.fetch())}),(function(t){if(!0===(null==e?void 0:e.throwOnError))throw t}))}catch(e){return Promise.reject(e)}},i.cancel=function(){var e;null==(e=this.cancelFetch)||e.call(this)},i.continue=function(){var e;null==(e=this.continueFetch)||e.call(this)},i.clearTimersObservers=function(){this.observers.forEach((function(e){e.clearRefetchInterval()}))},i.clearStaleTimeout=function(){this.staleTimeout&&(clearTimeout(this.staleTimeout),this.staleTimeout=void 0)},i.clearCacheTimeout=function(){this.cacheTimeout&&(clearTimeout(this.cacheTimeout),this.cacheTimeout=void 0)},i.setData=function(e){var t,r,n=this.state.data,i=a(e,n);this.config.structuralSharing&&(i=function e(t,r){if(t===r)return t;var n=Array.isArray(t)&&Array.isArray(r);if(n||y(t)&&y(r)){for(var i=n?t.length:Object.keys(t).length,u=n?r:Object.keys(r),o=u.length,c=n?[]:{},s=0,a=0;a<o;a++){var h=n?a:u[a];c[h]=e(t[h],r[h]),c[h]===t[h]&&s++}return i===o&&s===i?t:c}return r}(n,i)),(null==(t=(r=this.config).isDataEqual)?void 0:t.call(r,n,i))&&(i=n);var u=0===this.config.staleTime,o=L(this.config,i);this.dispatch({type:q.Success,data:i,isStale:u,canFetchMore:o}),this.rescheduleStaleTimeout()},i.clear=function(){this.clearStaleTimeout(),this.clearCacheTimeout(),this.clearTimersObservers(),this.cancel(),delete this.queryCache.queries[this.queryHash],this.notifyGlobalListeners(this)},i.isEnabled=function(){return this.observers.some((function(e){return e.config.enabled}))},i.onWindowFocus=function(){this.state.isStale&&this.observers.some((function(e){return e.config.enabled&&e.config.refetchOnWindowFocus}))&&this.fetch(),this.continue()},i.onOnline=function(){this.state.isStale&&this.observers.some((function(e){return e.config.enabled&&e.config.refetchOnReconnect}))&&this.fetch(),this.continue()},i.subscribe=function(e){var r=new C(t({queryCache:this.queryCache,queryKey:this.queryKey},this.config));return r.subscribe(e),r},i.subscribeObserver=function(e){this.observers.push(e),this.clearCacheTimeout()},i.unsubscribeObserver=function(e){this.observers=this.observers.filter((function(t){return t!==e})),this.observers.length||this.isTransportCancelable&&this.cancel(),this.rescheduleGarbageCollection()},i.tryFetchData=function(e,t){try{var r=this;return new Promise((function(i,u){var o,c,s=!1,h=function(){s=!0,delete r.cancelFetch,delete r.continueFetch,delete r.isTransportCancelable,null==o||o()},d=function(e){h(),u(e)};r.cancelFetch=function(){d(new n);try{null==c||c()}catch(e){}},r.continueFetch=function(){null==o||o()};var v=I((function(){return T((function(){var e,n=t();return"function"==typeof(null==(e=n)?void 0:e.cancel)&&(c=function(){n.cancel()},r.isTransportCancelable=!0),E(n,(function(e){!function(e){h(),i(e)}(e)}))}),(function(t){if(!s){var n,i=r.state.failureCount,u=e.retry,c=e.retryDelay;if(!0===u||i<u||"function"==typeof u&&u(i,t))return r.dispatch({type:q.Failed}),E((n=a(c,i)||0,new Promise((function(e){setTimeout(e,n)}))),(function(){return R((function(){if(!f()||!l())return function(e,t){if(!t)return e&&e.then?e.then(O):Promise.resolve()}(new Promise((function(e){o=e})))}),(function(){s||v()}))}));d(t)}}))}));v()}))}catch(e){return Promise.reject(e)}},i.fetch=function(e){try{var t=this;if(t.promise)return t.promise;var r=t.config;if(!r.queryFn)return;var n=r.queryFnParamsFilter,i=n?n(t.queryKey):t.queryKey;return t.promise=I((function(){return T((function(){var n;return R((function(){return r.infinite?E(t.startInfiniteFetch(r,i,e),(function(e){n=e})):E(t.startFetch(r,i,e),(function(e){n=e}))}),(function(){return t.setData(n),delete t.promise,n}))}),(function(e){throw t.dispatch({type:q.Error,error:e}),p(e)||c.error(e),delete t.promise,e}))}))(),t.promise}catch(e){return Promise.reject(e)}},i.startFetch=function(e,t,r){try{return this.state.isFetching||this.dispatch({type:q.Fetch}),this.tryFetchData(e,(function(){return e.queryFn.apply(void 0,t)}))}catch(e){return Promise.reject(e)}},i.startInfiniteFetch=function(e,t,r){try{var n=null==r?void 0:r.fetchMore,i=n||{},u=i.previous,o=i.fetchMoreVariable,c=!!n&&(u?"previous":"next"),s=this.state.data||[],a=I((function(r,n,i){var u=Q(r,n);return void 0===i&&void 0!==u&&e.getFetchMore&&(i=e.getFetchMore(u,r)),E(e.queryFn.apply(void 0,t.concat([i])),(function(e){return n?[e].concat(r):[].concat(r,[e])}))}));return this.state.isFetching||this.dispatch({type:q.Fetch,isFetchingMore:c}),this.tryFetchData(e,(function(){if(c)return a(s,u,o);if(s.length){for(var e=a([]),t=1;t<s.length;t++)e=e.then(a);return e}return a([])}))}catch(e){return Promise.reject(e)}},i.fetchMore=function(e,t){return this.fetch({fetchMore:{fetchMoreVariable:e,previous:(null==t?void 0:t.previous)||!1}})},e}();function Q(e,t){return t?e[0]:e[e.length-1]}function L(e,t,r){if(e.infinite&&e.getFetchMore&&Array.isArray(t))return Boolean(e.getFetchMore(Q(t,r),t))}function P(){}function j(e,t){if(!t)return e&&e.then?e.then(P):Promise.resolve()}function D(e,t){try{var r=e()}catch(e){return t(e)}return r&&r.then?r.then(void 0,t):r}function A(e,t){var r=e();return r&&r.then?r.then(t):t(r)}function k(e,t){if(e)throw t;return t}function K(e,t){try{var r=e()}catch(e){return t(!0,e)}return r&&r.then?r.then(t.bind(null,!1),t.bind(null,!0)):t(!1,r)}var G=function(){function e(e){this.config=e||{},this.globalListeners=[],this.queries={},this.isFetching=0}var r=e.prototype;return r.notifyGlobalListeners=function(e){var t=this;this.isFetching=Object.values(this.queries).reduce((function(e,t){return t.state.isFetching?e+1:e}),0),this.globalListeners.forEach((function(r){return r(t,e)}))},r.getDefaultConfig=function(){return this.config.defaultConfig},r.getDefaultedQueryConfig=function(e){return w(this.getDefaultConfig(),void 0,e,{queryCache:this})},r.subscribe=function(e){var t=this;return this.globalListeners.push(e),function(){t.globalListeners.splice(t.globalListeners.indexOf(e),1)}},r.clear=function(e){Object.values(this.queries).forEach((function(e){return e.clear()})),this.queries={},(null==e?void 0:e.notify)&&this.notifyGlobalListeners()},r.getQueries=function(e,t){if(!0===e)return Object.values(this.queries);var r;if("function"==typeof e)r=e;else{var n=this.getDefaultedQueryConfig().queryKeySerializerFn(e),i=n[0],u=n[1];r=function(e){return(null==t?void 0:t.exact)?e.queryHash===i:function e(t,r){return t===r||typeof t==typeof r&&("object"==typeof t&&!Object.keys(r).some((function(n){return!e(t[n],r[n])})))}(e.queryKey,u)}}return Object.values(this.queries).filter(r)},r.getQuery=function(e){return this.getQueries(e,{exact:!0})[0]},r.getQueryData=function(e){var t;return null==(t=this.getQuery(e))?void 0:t.state.data},r.removeQueries=function(e,t){this.getQueries(e,t).forEach((function(e){return e.clear()}))},r.cancelQueries=function(e,t){this.getQueries(e,t).forEach((function(e){return e.cancel()}))},r.invalidateQueries=function(e,t){try{var r=this,n=t||{},i=n.refetchActive,u=void 0===i||i,o=n.refetchInactive,c=void 0!==o&&o,s=n.throwOnError;return D((function(){return j(Promise.all(r.getQueries(e,t).map((function(e){if(e.observers.length){if(u&&e.isEnabled())return e.fetch()}else if(c)return e.fetch();return e.invalidate()}))))}),(function(e){if(s)throw e}))}catch(e){return Promise.reject(e)}},r.resetErrorBoundaries=function(){this.getQueries(!0).forEach((function(e){e.state.throwInErrorBoundary=!1}))},r.buildQuery=function(e,t){var r,n=this,i=this.getDefaultedQueryConfig(t),u=i.queryKeySerializerFn(e),o=u[0],c=u[1];return this.queries[o]&&(r=this.queries[o]).updateConfig(i),r||(r=new M({queryCache:this,queryKey:c,queryHash:o,config:i,notifyGlobalListeners:function(e){n.notifyGlobalListeners(e)}}),this.config.frozen||(this.queries[o]=r,this.notifyGlobalListeners(r))),r},r.prefetchQuery=function(){try{for(var e=this,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];v(n[1])&&(n[1].hasOwnProperty("throwOnError")||n[1].hasOwnProperty("force"))&&(n[3]=n[1],n[1]=void 0,n[2]=void 0);var u,o=d(n),c=o[0],s=o[1],a=o[2],h=t({retry:!1},s);return K((function(){return D((function(){return u=e.buildQuery(c,h),A((function(){if((null==a?void 0:a.force)||u.state.isStale)return j(u.fetch())}),(function(){return u.state.data}))}),(function(e){if(null==a?void 0:a.throwOnError)throw e}))}),(function(e,t){return u&&u.activateTimeouts(),k(e,t)}))}catch(e){return Promise.reject(e)}},r.setQueryData=function(e,r,n){var i=this.getQuery(e);i?i.setData(r):this.buildQuery(e,t({initialStale:void 0===(null==n?void 0:n.staleTime),initialData:a(r,void 0)},n)).activateTimeouts()},e}(),x=z({frozen:u}),B=[x];function z(e){return new G(e)}function H(e){f()&&l()&&B.forEach((function(t){t.getQueries((function(t){e?t.onOnline():t.onWindowFocus()}))}))}var W=F((function(){return H(!1)}));W((function(e){var t;if(!u&&(null==(t=window)?void 0:t.addEventListener))return window.addEventListener("visibilitychange",e,!1),window.addEventListener("focus",e,!1),function(){window.removeEventListener("visibilitychange",e),window.removeEventListener("focus",e)}}));var J=F((function(){return H(!0)}));J((function(e){var t;if(!u&&(null==(t=window)?void 0:t.addEventListener))return window.addEventListener("online",e,!1),function(){window.removeEventListener("online",e)}}));var N=e.createContext(x),U=function(){return e.useContext(N)},V=function(t){var r=t.queryCache,n=t.children,i=e.useMemo((function(){return r||z()}),[r]);return e.useEffect((function(){return B.push(i),function(){var e=B.indexOf(i);e>-1&&B.splice(e,1),null==r&&i.clear({notify:!1})}}),[i,r]),e.createElement(N.Provider,{value:i},n)},X=e.createContext(void 0);function Y(){return e.useContext(X)}var Z,$=function(r){var n=r.config,i=r.children,u=Y(),o=e.useMemo((function(){return u?(r=n,{shared:t({},(e=u).shared,r.shared),queries:t({},e.queries,r.queries),mutations:t({},e.mutations,r.mutations)}):n;var e,r}),[n,u]);return e.createElement(X.Provider,{value:o},i)};function _(t){var r=e.useRef(t);return r.current=t,e.useCallback((function(){return r.current}),[])}function ee(){var t=e.useRef(!1),r=e.useCallback((function(){return t.current}),[]);return e[u?"useEffect":"useLayoutEffect"]((function(){return t.current=!0,function(){t.current=!1}}),[]),r}function te(t){var r=ee(),n=e.useState(t),i=n[0],u=n[1];return[i,e.useCallback((function(e){var t;t=function(){r()&&u(e)},Promise.resolve().then(t).catch((function(e){return setTimeout((function(){throw e}))}))}),[r])]}function re(){var t=U(),r=te(t.isFetching),n=r[0],i=r[1];return e.useEffect((function(){return t.subscribe((function(){i(t.isFetching)}))}),[t,i]),n}function ne(e){var r=Y(),n=U(),i=(null==e?void 0:e.queryCache)||n;return function(e,r,n,i){return t({},S.shared,S.mutations,null==e?void 0:e.shared,null==e?void 0:e.mutations,null==r?void 0:r.shared,null==r?void 0:r.mutations,n,i)}(i.getDefaultConfig(),r,e,{queryCache:i})}function ie(e,t,r){return r?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}!function(e){e.Reset="Reset",e.Loading="Loading",e.Resolve="Resolve",e.Reject="Reject"}(Z||(Z={}));var ue=function(){return t({},m(r.Idle),{data:void 0,error:null})};function oe(e,n){switch(n.type){case Z.Reset:return ue();case Z.Loading:return t({},m(r.Loading),{data:void 0,error:null});case Z.Resolve:return t({},m(r.Success),{data:n.data,error:null});case Z.Reject:return t({},m(r.Error),{data:void 0,error:n.error});default:return e}}function ce(r,n){void 0===n&&(n={});var u,o,s,a=_(n=ne(n)),h=e.useReducer(oe,null,ue),f=h[0],l=h[1],d=(u=l,o=ee(),e.useCallback((function(){if(o())return u.apply(void 0,arguments)}),[u,o])),v=_(r),y=e.useRef(),g=e.useCallback((s=function(e,t){void 0===t&&(t={});var r=a(),n=i++;y.current=n;var u,o=function(){return y.current===n};return function(e,t){try{var r=e()}catch(e){return t(e)}return r&&r.then?r.then(void 0,t):r}((function(){return d({type:Z.Loading}),ie(null==r.onMutate?void 0:r.onMutate(e),(function(n){return u=n,ie(v()(e),(function(n){return o()&&d({type:Z.Resolve,data:n}),ie(null==r.onSuccess?void 0:r.onSuccess(n,e),(function(){return ie(null==t.onSuccess?void 0:t.onSuccess(n,e),(function(){return ie(null==r.onSettled?void 0:r.onSettled(n,null,e),(function(){return ie(null==t.onSettled?void 0:t.onSettled(n,null,e),(function(){return n}))}))}))}))}))}))}),(function(n){return c.error(n),ie(null==r.onError?void 0:r.onError(n,e,u),(function(){return ie(null==t.onError?void 0:t.onError(n,e,u),(function(){return ie(null==r.onSettled?void 0:r.onSettled(void 0,n,e,u),(function(){return ie(null==t.onSettled?void 0:t.onSettled(void 0,n,e,u),(function(){var e;if(o()&&d({type:Z.Reject,error:n}),null!=(e=t.throwOnError)?e:r.throwOnError)throw n}))}))}))}))}))},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(s.apply(this,e))}catch(e){return Promise.reject(e)}}),[d,a,v]),b=e.useCallback((function(){d({type:Z.Reset})}),[d]);return e.useEffect((function(){var e=a(),t=e.suspense,r=e.useErrorBoundary;if((null!=r?r:t)&&f.error)throw f.error}),[a,f.error]),[g,t({},f,{reset:b})]}function se(t){void 0===t&&(t={}),t=function(e){var t=Y(),r=U(),n=(null==e?void 0:e.queryCache)||r;return w(n.getDefaultConfig(),t,e,{queryCache:n})}(t);var r,n=(r=te({})[1],e.useCallback((function(){return r({})}),[r])),i=e.useRef(),u=!i.current,o=i.current||new C(t);i.current=o,e.useEffect((function(){return o.subscribe((function(){n()}))}),[o,n]),u||o.updateConfig(t);var c=o.getCurrentResult();if(t.suspense||t.useErrorBoundary){if(c.isError&&c.query.state.throwInErrorBoundary)throw c.error;if(t.enabled&&t.suspense&&!c.isSuccess){var s=o.subscribe();throw o.fetch().finally(s)}}return c}function ae(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=d(t)[1];return se(n)}function he(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=d(r)[1],u=se(t({},i,{keepPreviousData:!0}));return t({},u,{resolvedData:u.data,latestData:u.query.state.data===u.data?u.data:void 0})}function fe(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=d(r)[1];return se(t({},i,{infinite:!0}))}export{n as CancelledError,r as QueryStatus,V as ReactQueryCacheProvider,$ as ReactQueryConfigProvider,p as isCancelledError,b as isError,z as makeQueryCache,x as queryCache,B as queryCaches,s as setConsole,W as setFocusHandler,J as setOnlineHandler,fe as useInfiniteQuery,re as useIsFetching,ce as useMutation,he as usePaginatedQuery,ae as useQuery,U as useQueryCache};
//# sourceMappingURL=react-query.min.mjs.map
